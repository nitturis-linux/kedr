<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>KEDR 0.4 Reference Manual</title><link rel="stylesheet" href="kedr-doc.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"><link rel="home" href="index.html" title="KEDR 0.4 Reference Manual"><link rel="next" href="kedr_manual_intro.html" title="1. Introduction"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">KEDR 0.4 Reference Manual</th></tr><tr><td width="20%" align="left"> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="kedr_manual_intro.html">Next</a></td></tr></table><hr></div><div lang="en" class="article"><div class="titlepage"><div><div><h2 class="title"><a name="id280325"></a>KEDR 0.4 Reference Manual</h2></div><div><div class="authorgroup"><div class="author"><h3 class="author"><span 
class="firstname">Eugene</span> <span class="surname">Shatokhin</span></h3></div><div class="author"><h3 class="author"><span class="firstname">Andrey</span> <span class="surname">Tsyvarev</span></h3></div></div></div><div><p class="releaseinfo">KEDR Framework version 0.4.1 (February 26, 2013)</p></div><div><p class="copyright">Copyright © 2012-2013 KEDR development team</p></div><div><p class="copyright">Copyright © 2010-2012 Institute for System Programming of the Russian Academy of Sciences (ISPRAS)</p></div></div><hr></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="kedr_manual_intro.html">1. Introduction</a></span></dt><dt><span class="section"><a href="kedr_manual_overview.html">2. Overview</a></span></dt><dd><dl><dt><span class="section"><a href="kedr_manual_overview.html#overview.general">2.1. General</a></span></dt><dt><span class="section"><a href="kedr_manual_overview.html#overview.analysis">2.2. Types of Analysis KEDR Supports</a></span></dt><dt><span class="
section"><a href="kedr_manual_overview.html#overview.sys_req">2.3. System Requirements</a></span></dt><dt><span class="section"><a href="kedr_manual_overview.html#overview.use_case">2.4. Common Use Case</a></span></dt><dt><span class="section"><a href="kedr_manual_overview.html#overview.technologies">2.5. Key Technologies KEDR Relies Upon</a></span></dt><dt><span class="section"><a href="kedr_manual_overview.html#overview.limit">2.6. Limitations</a></span></dt><dt><span class="section"><a href="kedr_manual_overview.html#overview.feedback">2.7. Reporting Bugs and Asking Questions</a></span></dt></dl></dd><dt><span class="section"><a href="kedr_manual_getting_started.html">3. Getting Started</a></span></dt><dd><dl><dt><span class="section"><a href="kedr_manual_getting_started.html#getting_started.install">3.1. Installation</a></span></dt><dt><span class="section"><a href="kedr_manual_getting_started.html#getting_started.use_case">3.2. Analyzing the Sample Module</a></span></dt><dt><span class="section"><a 
href="kedr_manual_getting_started.html#getting_started.leak_check">3.3. Detecting Memory Leaks</a></span></dt><dt><span class="section"><a href="kedr_manual_getting_started.html#getting_started.fault_simulation">3.4. Fault Simulation</a></span></dt><dt><span class="section"><a href="kedr_manual_getting_started.html#getting_started.call_monitoring">3.5. Call Monitoring (Call Tracing)</a></span></dt><dt><span class="section"><a href="kedr_manual_getting_started.html#getting_started.all_at_once">3.6. Doing It All at Once</a></span></dt></dl></dd><dt><span class="section"><a href="kedr_manual_using_kedr.html">4. Using KEDR</a></span></dt><dd><dl><dt><span class="section"><a href="kedr_manual_using_kedr.html#kedr_control">4.1. Controlling KEDR</a></span></dt><dd><dl><dt><span class="section"><a href="kedr_manual_using_kedr.html#kedr_control.general">4.1.1. General</a></span></dt><dt><span class="section"><a href="kedr_manual_using_kedr.html#kedr_control.syntax">4.1.2. Usage</a></span></dt><dt><span class="section"
><a href="kedr_manual_using_kedr.html#kedr_control.options">4.1.3. Options</a></span></dt><dt><span class="section"><a href="kedr_manual_using_kedr.html#kedr_control.description">4.1.4. Description</a></span></dt><dt><span class="section"><a href="kedr_manual_using_kedr.html#kedr_control.caveats">4.1.5. Caveats</a></span></dt><dt><span class="section"><a href="kedr_manual_using_kedr.html#kedr_control.config_file">4.1.6. Configuration file</a></span></dt><dt><span class="section"><a href="kedr_manual_using_kedr.html#kedr_control.examples">4.1.7. Examples</a></span></dt></dl></dd><dt><span class="section"><a href="kedr_manual_using_kedr.html#capture_trace">4.2. Capturing the Trace</a></span></dt><dd><dl><dt><span class="section"><a href="kedr_manual_using_kedr.html#capture_trace.general">4.2.1. General</a></span></dt><dt><span class="section"><a href="kedr_manual_using_kedr.html#capture_trace.syntax">4.2.2. Usage</a></span></dt><dt><span class="section"><a href="kedr_manual_using_kedr.html#capture_trace.
description">4.2.3. Description</a></span></dt><dt><span class="section"><a href="kedr_manual_using_kedr.html#kedr_capture_trace.options">4.2.4. Options</a></span></dt><dt><span class="section"><a href="kedr_manual_using_kedr.html#capture_trace.examples">4.2.5. Examples</a></span></dt></dl></dd><dt><span class="section"><a href="kedr_manual_using_kedr.html#how_kedr_works">4.3. How KEDR Works</a></span></dt><dd><dl><dt><span class="section"><a href="kedr_manual_using_kedr.html#how_kedr_works.target">4.3.1. Setting the name of the target module</a></span></dt></dl></dd><dt><span class="section"><a href="kedr_manual_using_kedr.html#call_mon">4.4. Call Monitoring (Call Tracing)</a></span></dt><dt><span class="section"><a href="kedr_manual_using_kedr.html#fault_sim">4.5. Fault Simulation</a></span></dt><dt><span class="section"><a href="kedr_manual_using_kedr.html#leak_check">4.6. Detecting Memory Leaks</a></span></dt><dd><dl><dt><span class="section"><a href="kedr_manual_using_kedr.html#leak_check.usage">4.6.1. 
Typical Usage</a></span></dt><dt><span class="section"><a href="kedr_manual_using_kedr.html#leak_check.reports">4.6.2. Reports</a></span></dt><dt><span class="section"><a href="kedr_manual_using_kedr.html#leak_check.analysis">4.6.3. Analyzing the Results</a></span></dt><dt><span class="section"><a href="kedr_manual_using_kedr.html#leak_check.param">4.6.4. Parameters</a></span></dt><dt><span class="section"><a href="kedr_manual_using_kedr.html#leak_check.api">4.6.5. API</a></span></dt><dt><span class="section"><a href="kedr_manual_using_kedr.html#leak_check.examples">4.6.6. Examples</a></span></dt><dt><span class="section"><a href="kedr_manual_using_kedr.html#leak_check.caveats">4.6.7. Caveats</a></span></dt></dl></dd><dt><span class="section"><a href="kedr_manual_using_kedr.html#analyze_trace">4.7. Analyzing the Call Location Information</a></span></dt><dd><dl><dt><span class="section"><a href="kedr_manual_using_kedr.html#analyze_trace.general">4.7.1. General</a></span></dt><dt><span class="section"><a href="
kedr_manual_using_kedr.html#analyze_trace.addr2line">4.7.2. Locating the Calls in the Sources with Addr2line</a></span></dt><dt><span class="section"><a href="kedr_manual_using_kedr.html#analyze_trace.gdb">4.7.3. Locating the Calls in the Sources with GDB</a></span></dt><dt><span class="section"><a href="kedr_manual_using_kedr.html#analyze_trace.objdump">4.7.4. Locating the Calls in the Sources with Objdump</a></span></dt><dt><span class="section"><a href="kedr_manual_using_kedr.html#analyze_trace.stack">4.7.5. Obtaining the Call Stack</a></span></dt></dl></dd></dl></dd><dt><span class="section"><a href="kedr_manual_extend.html">5. Customizing and Extending KEDR</a></span></dt><dd><dl><dt><span class="section"><a href="kedr_manual_extend.html#using_gen">5.1. Using Code Generator to Create Custom Modules</a></span></dt><dt><span class="section"><a href="kedr_manual_extend.html#custom_callm_payloads">5.2. Writing Custom Payloads for Call Monitoring</a></span></dt><dt><span class="section"><a href="kedr_manual_
extend.html#happens_before_parameter">5.3. <span class="quote">“<span class="quote">trace.happensBefore</span>”</span> Parameter for Call Monitoring</a></span></dt><dt><span class="section"><a href="kedr_manual_extend.html#custom_fsim_payloads">5.4. Writing Custom Payloads for Fault Simulation</a></span></dt><dt><span class="section"><a href="kedr_manual_extend.html#custom_fsim_scenarios">5.5. Writing Custom Scenarios for Fault Simulation</a></span></dt><dt><span class="section"><a href="kedr_manual_extend.html#custom_analysis">5.6. Implementing Custom Types of Analysis</a></span></dt><dd><dl><dt><span class="section"><a href="kedr_manual_extend.html#custom_analysis.basics">5.6.1. Choosing the Counters and the Functions to Process</a></span></dt><dt><span class="section"><a href="kedr_manual_extend.html#custom_analysis.define_trampolines">5.6.2. Describing the Targets</a></span></dt><dt><span class="section"><a href="kedr_manual_extend.html#custom_analysis.generate_trampolines">5.6.3. Generating the 
Trampolines</a></span></dt><dt><span class="section"><a href="kedr_manual_extend.html#custom_analysis.payload">5.6.4. Creating the Payload Module</a></span></dt><dt><span class="section"><a href="kedr_manual_extend.html#custom_analysis.build">5.6.5. Building the Payload Module</a></span></dt><dt><span class="section"><a href="kedr_manual_extend.html#custom_analysis.use">5.6.6. Using the Payload Module</a></span></dt></dl></dd></dl></dd><dt><span class="section"><a href="kedr_manual_reference.html">6. KEDR Reference</a></span></dt><dd><dl><dt><span class="section"><a href="kedr_manual_reference.html#payload_api">6.1. API for Payload Modules</a></span></dt><dd><dl><dt><span class="section"><a href="kedr_manual_reference.html#payload_api.header">6.1.1. Header File</a></span></dt><dt><span class="section"><a href="kedr_manual_reference.html#payload_api.function_call_info">6.1.2. struct kedr_function_call_info</a></span></dt><dt><span class="section"><a href="kedr_manual_reference.html#payload_api.pre_pair">6.1.3.
 struct kedr_pre_pair</a></span></dt><dt><span class="section"><a href="kedr_manual_reference.html#payload_api.post_pair">6.1.4. struct kedr_post_pair</a></span></dt><dt><span class="section"><a href="kedr_manual_reference.html#payload_api.replace_pair">6.1.5. struct kedr_replace_pair</a></span></dt><dt><span class="section"><a href="kedr_manual_reference.html#payload_api.payload">6.1.6. struct kedr_payload</a></span></dt><dt><span class="section"><a href="kedr_manual_reference.html#payload_api.register">6.1.7. kedr_payload_register()</a></span></dt><dt><span class="section"><a href="kedr_manual_reference.html#payload_api.unregister">6.1.8. kedr_payload_unregister()</a></span></dt><dt><span class="section"><a href="kedr_manual_reference.html#payload_api.in_init">6.1.9. kedr_target_module_in_init()</a></span></dt><dt><span class="section"><a href="kedr_manual_reference.html#payload_api.functions_support_register()">6.1.10. functions_support_register()</a></span></dt><dt><span class="section"><a href="kedr_
manual_reference.html#payload_api.functions_support_unregister()">6.1.11. functions_support_unregister()</a></span></dt><dt><span class="section"><a href="kedr_manual_reference.html#payload_api.stub">6.1.12. A Stub of a Payload Module</a></span></dt></dl></dd><dt><span class="section"><a href="kedr_manual_reference.html#functions_support">6.2. Creating Trampolines</a></span></dt><dd><dl><dt><span class="section"><a href="kedr_manual_reference.html#functions_support.why">6.2.1. Why Trampolines Are Needed</a></span></dt><dt><span class="section"><a href="kedr_manual_reference.html#functions_support.define">6.2.2. How to Define Trampolines</a></span></dt><dt><span class="section"><a href="kedr_manual_reference.html#functions_support.stub">6.2.3. A Stub of the Data File Describing the Targets</a></span></dt><dt><span class="section"><a href="kedr_manual_reference.html#functions_support.generate">6.2.4. Generating the Source Code of the Trampolines</a></span></dt></dl></dd><dt><span class="section"><a href="kedr_
manual_reference.html#standard_callm_payloads">6.3. Standard Payloads for Call Monitoring</a></span></dt><dd><dl><dt><span class="section"><a href="kedr_manual_reference.html#standard_callm_payloads.functions">6.3.1. List of Functions</a></span></dt></dl></dd><dt><span class="section"><a href="kedr_manual_reference.html#standard_fsim_payloads">6.4. Standard Fault Simulation Payloads</a></span></dt><dd><dl><dt><span class="section"><a href="kedr_manual_reference.html#standard_fsim_payloads.functions">6.4.1. List of Functions</a></span></dt></dl></dd><dt><span class="section"><a href="kedr_manual_reference.html#standard_fsim_indicators">6.5. Standard Fault Simulation Scenarios</a></span></dt><dd><dl><dt><span class="section"><a href="kedr_manual_reference.html#standard_fsim_indicators.common">6.5.1. Common Fault Simulation Scenario</a></span></dt><dt><span class="section"><a href="kedr_manual_reference.html#standard_fsim_indicators.kmalloc">6.5.2. Fault Simulation Scenario for Memory Allocation Functions</a></
span></dt><dt><span class="section"><a href="kedr_manual_reference.html#standard_fsim_indicators.capable">6.5.3. Fault Simulation Scenario for capable()</a></span></dt></dl></dd><dt><span class="section"><a href="kedr_manual_reference.html#fault_simulation_api">6.6. API for Fault Simulation</a></span></dt><dd><dl><dt><span class="section"><a href="kedr_manual_reference.html#fault_simulation_api.module">6.6.1. Kernel module providing API</a></span></dt><dt><span class="section"><a href="kedr_manual_reference.html#fault_simulation_api.header">6.6.2. Header file</a></span></dt><dt><span class="section"><a href="kedr_manual_reference.html#fault_simulation_api.fault_simulation_point">6.6.3. Fault Simulation Point</a></span></dt><dt><span class="section"><a href="kedr_manual_reference.html#fault_simulation_api.format_string">6.6.4. Format of the Data Passed from a Point to the Scenario</a></span></dt><dt><span class="section"><a href="kedr_manual_reference.html#fault_simulation_api.kedr_fsim_point_register">6.6.5. 
kedr_fsim_point_register()</a></span></dt><dt><span class="section"><a href="kedr_manual_reference.html#fault_simulation_api.kedr_fsim_point_unregister">6.6.6. kedr_fsim_point_unregister()</a></span></dt><dt><span class="section"><a href="kedr_manual_reference.html#fault_simulation_api.kedr_fsim_point_simulate">6.6.7. kedr_fsim_point_simulate()</a></span></dt><dt><span class="section"><a href="kedr_manual_reference.html#fault_simulation_api.fault_simulation_indicator">6.6.8. Fault Simulation Indicator</a></span></dt><dt><span class="section"><a href="kedr_manual_reference.html#fault_simulation_api.kedr_fsim_indicator_register">6.6.9. kedr_fsim_indicator_register()</a></span></dt><dt><span class="section"><a href="kedr_manual_reference.html#fault_simulation_api.kedr_fsim_indicator_unregister">6.6.10. kedr_fsim_indicator_unregister()</a></span></dt><dt><span class="section"><a href="kedr_manual_reference.html#fault_simulation_api.kedr_fsim_point_set_indicator">6.6.11. kedr_fsim_point_set_indicator()</a></
span></dt><dt><span class="section"><a href="kedr_manual_reference.html#fault_simulation_api.kedr_fsim_point_clear_indicator">6.6.12. kedr_fsim_point_clear_indicator()</a></span></dt><dt><span class="section"><a href="kedr_manual_reference.html#fault_simulation_api.kedr_fsim_fault_message">6.6.13. kedr_fsim_fault_message()</a></span></dt><dt><span class="section"><a href="kedr_manual_reference.html#fault_simulation_api.kedr_fsim_fault_message_len">6.6.14. KEDR_FSIM_FAULT_MESSAGE_LEN</a></span></dt><dt><span class="section"><a href="kedr_manual_reference.html#fault_simulation_api.format_string_file">6.6.15. Control File <code class="filename">format_string</code></a></span></dt><dt><span class="section"><a href="kedr_manual_reference.html#fault_simulation_api.current_indicator_file">6.6.16. Control File <code class="filename">current_indicator</code></a></span></dt><dt><span class="section"><a href="kedr_manual_reference.html#fault_simulation_api.last_fault_file">6.6.17. Control File <code class="filename"
>last_fault</code></a></span></dt></dl></dd></dl></dd><dt><span class="glossary"><a href="kedr_manual_glossary.html">Glossary</a></span></dt></dl></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="kedr_manual_intro.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top"> </td><td width="20%" align="center"> </td><td width="40%" align="right" valign="top"> 1. Introduction</td></tr></table></div></body></html>
